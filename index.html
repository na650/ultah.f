<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Happy Birthday App</title>
    <style>
        * { box-sizing: border-box; }
        body {
            background-color: black;
            color: limegreen;
            font-family: 'Courier New', monospace;
            text-align: center;
            margin: 0;
            padding: 0;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
        }
        .hidden { display: none !important; }
        #loading {
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            height: 100vh;
        }
        .loader-anim {
            margin: 30px 0 10px 0;
            width: 50px;
            height: 50px;
            border: 6px solid #333;
            border-top: 6px solid limegreen;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            display: inline-block;
        }
        @keyframes spin {
            0% { transform: rotate(0deg);}
            100% { transform: rotate(360deg);}
        }
        #menu {
            background: #222;
            padding: 20px;
            border-radius: 10px;
            display: inline-block;
            margin-top: 50px;
            position: relative;
            top: 0;
            left: 0;
            right: 0;
            margin-left: auto;
            margin-right: auto;
        }
        .menu-title {
            font-size: 1.5em;
            background: black;
            color: limegreen;
            padding: 10px;
            margin-bottom: 20px;
            border-radius: 5px;
        }
        .menu-btn {
            display: inline-block;
            width: 120px;
            padding: 10px;
            margin: 10px;
            border: none;
            cursor: pointer;
            font-weight: bold;
            color: white;
            border-radius: 5px;
            font-size: 1em;
        }
        .blue { background: #3498db; }
        .red { background: #e74c3c; }
        .purple { background: #9b59b6; }
        .green { background: #2ecc71; }
        .back-btn {
            background: red;
            color: white;
            padding: 10px 20px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            margin-top: 20px;
            font-size: 1em;
            display: inline-block;
        }
        .next-btn {
            background: limegreen;
            color: black;
            padding: 10px 20px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            margin-top: 20px;
            font-size: 1em;
            display: inline-block;
            margin-left: 10px;
        }
        .gallery img {
            width: 200px;
            margin: 10px;
            border: 2px solid white;
        }
        #tetris {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
        }
        #tetrisCanvas {
            background: #111;
            margin: 10px 0;
            display: block;
            margin-left: auto;
            margin-right: auto;
        }
        #tetris-controls {
            margin-top: 10px;
            display: flex;
            justify-content: center;
            gap: 8px;
        }
       /* ...existing code... */
#tetris-controls .menu-btn {
    width: 50px;
    max-width: 60px;
    font-size: 1.5em;
    margin: 4px;
    padding: 10px;
    border-radius: 5px;
    border: none;
    font-weight: bold;
    /* Tambahkan warna berbeda untuk tiap tombol */
    background: #222;
    color: rgb(81, 191, 118);
    box-shadow: 0 2px 8px #0008;
    transition: background 0.2s, color 0.2s;
}
#btn-left { background: #1ab62c; color: #fff; }
#btn-right { background: #1ab62c; color: #fff; }
#btn-down { background: #1ab62c; color: #fff; }
#btn-rotate { background: #1ab62c; color: #fff; }
#tetris-controls .menu-btn:active {
    filter: brightness(0.85);
}
/* ...existing code... */
        @media (max-width: 600px) {
            body {
                font-size: 1em;
                justify-content: flex-start;
            }
            #menu {
                width: 95vw;
                margin-top: 20px;
                padding: 10px;
            }
            .menu-title {
                font-size: 1.1em;
                padding: 6px;
            }
            .menu-btn {
                width: 90vw;
                max-width: 300px;
                font-size: 1em;
                margin: 8px 0;
                padding: 12px;
            }
            .gallery img {
                width: 90vw;
                max-width: 300px;
                margin: 6px 0;
            }
            #tetrisCanvas {
                width: 90vw !important;
                max-width: 300px;
                height: 432px !important; /* 480/240*216=432, proporsional */
            }
            #tetris-controls .menu-btn {
                width: 20vw;
                max-width: 60px;
                font-size: 1.5em;
                margin: 4px;
                padding: 10px;
            }
            .back-btn, .next-btn {
                width: 44vw;
                max-width: 150px;
                font-size: 1em;
                margin: 10px 2vw 0 2vw;
                padding: 12px;
            }
        }
    </style>
</head>
<body>
    <!-- Loading Screen -->
    <div id="loading">
        <div class="loader-anim"></div>
        <h1>HEYTML-BOY</h1>
        <p>READY...</p>
    </div>

    <!-- Menu Utama -->
    <div id="menu" class="hidden">
        <div class="menu-title">Happy Birthday!<br>Press Start Button</div>
        <button class="menu-btn blue" onclick="showPage('message')">MESSAGE</button>
        <button class="menu-btn red" onclick="showPage('gallery')">GALLERY</button>
        <button class="menu-btn purple" onclick="showPage('music')">MUSIC</button>
        <button class="menu-btn green" onclick="showPage('tetris')">TETRIS</button>
    </div>

    <script>
    // Loading screen singkat (1 detik)
    setTimeout(() => {
        document.getElementById('loading').remove();
        document.getElementById('menu').classList.remove('hidden');
    }, 1000);

    // Urutan halaman untuk navigasi selanjutnya
    const pageOrder = ['message', 'gallery', 'music', 'tetris'];

    // Template halaman dengan tombol "Selanjutnya"
    function getPageHtml(pageId) {
        let nextIndex = pageOrder.indexOf(pageId) + 1;
        let nextPage = nextIndex < pageOrder.length ? pageOrder[nextIndex] : null;
        let nextBtn = nextPage
            ? `<button class="next-btn" onclick="showPage('${nextPage}')">Selanjutnya</button>`
            : '';
        // ...existing code...
if (pageId === 'message') {
    // Paragraf-paragraf yang ingin ditampilkan satu per satu
    const messages = [
        `<h2>Hi, Happy Birthday! ğŸ‰</h2>
        <h3>someone that i will never forget</h3>
        <p>semoga hal baik selalu beriringan denganmu, semoga semesta senantiasa berpihak padamu, semoga jalan mu untuk mencapai masa depan yang cerah di permudahkan, semoga rezeki mu di permudah, semoga penjualan di tiktok selalu lancar, sehat selalu dan di panjangkan umurmu, teruslah tumbuh dengan segala proses mu, melangkah sejauh yang kamu bisa. i will always supportÂ uÂ fromÂ afar. â¤</p>`,
        `<p>maaf selama kamu kenal aku, banyak hal yang mungkin kamu ga suka, banyak hal yang buat kamu ga nyaman, banyak hal yang buat kamu kecewa, terimakasih, terimaksih untuk waktu waktu kamu, termikasih atas maaf kamu, terimkasih atas segala hal yang kamu lakukan, terimakasih atas segala hal yang kamu berikan. semoga kita bisa bertemu di waktu yang tepat, di waktu yang baik, di waktu penuh kebahagian.</p>`,
        `<h2>i love u</h2>`
    ];
    // Cek index paragraf yang sedang ditampilkan
    let msgIndex = window.msgIndex ?? 0;
    let nextMsgBtn = msgIndex < messages.length - 1
        ? `<button class="next-btn" onclick="window.msgIndex=${msgIndex+1};showPage('message')">Selengkapnya</button>`
        : `${nextBtn}`;
    return `
        <div id="message">
            ${messages.slice(0, msgIndex + 1).join('')}
            <div>
                <button class="back-btn" onclick="window.msgIndex=0;backToMenu()">Kembali</button>
                ${nextMsgBtn}
            </div>
        </div>
    `;
}
// ...existing code...
      // ...existing code...
if (pageId === 'gallery') {
    return `
        <div id="gallery">
            <h2>Gallery</h2>
            <div class="gallery">
                <!-- Tambahkan video di bawah ini -->
                <video width="200" controls style="margin:10px; border:2px solid white;">
                    <source src="0.mp4" type="video/mp4">
                    Browser Anda tidak mendukung video.
                </video>
                 <img src="kk.jpg" alt="Foto 3">
                 <video width="200" controls style="margin:10px; border:2px solid white;">
                    <source src="q.mp4" type="video/mp4">
                    Browser Anda tidak mendukung video.
                </video>
            </div>
            <div>
                <button class="back-btn" onclick="backToMenu()">Kembali</button>
                ${nextBtn}
            </div>
        </div>
    `;
}
// ...existing code...
      if (pageId === 'music') {
Â  Â  return `
Â  Â  Â  Â  <div id="music">
Â  Â  Â  Â  Â  Â  <h2>Music</h2>
Â  Â  Â  Â  Â  Â  <iframe src="https://open.spotify.com/embed/playlist/5tDH4XSPTlJyEZZKgM1UsL?si=I1a3Cq9KRiGCeHLIYpSslg" width="300" height="380" frameborder="0" allowtransparency="true" allow="encrypted-media"></iframe>
Â  Â  Â  Â  Â  Â  <div>
Â  Â  Â  Â  Â  Â  Â  Â  <button class="back-btn" onclick="backToMenu()">Kembali</button>
Â  Â  Â  Â  Â  Â  Â  Â  ${nextBtn}
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  </div>
Â  Â  `;
}

        if (pageId === 'tetris') {
            return `
                <div id="tetris">
                    <h2>Tetris</h2>
                    <canvas id="tetrisCanvas" width="240" height="480" tabindex="0"></canvas>
                        <button class="menu-btn" id="btn-left">&#8592;</button>
                        <button class="menu-btn" id="btn-rotate">&#8635;</button>
                        <button class="menu-btn" id="btn-right">&#8594;</button>
                        <button class="menu-btn" id="btn-down">&#8595;</button>
                    </div>
                    <div>
                        <button class="back-btn" onclick="backToMenu()">Kembali</button>
                    </div>
                </div>
            `;
        }
        return '';
    }

    function showPage(pageId) {
        removePages();
        document.getElementById('menu').classList.add('hidden');
        const tempDiv = document.createElement('div');
        tempDiv.innerHTML = getPageHtml(pageId);
        document.body.appendChild(tempDiv.firstElementChild);

        if (pageId === 'tetris') {
            initTetris();
        }
    }

    function backToMenu() {
        removePages();
        document.getElementById('menu').classList.remove('hidden');
    }

    function removePages() {
        ['message', 'gallery', 'music', 'tetris'].forEach(id => {
            const el = document.getElementById(id);
            if (el) el.remove();
        });
        window.removeEventListener('keydown', tetrisKeyHandler);
        if (window.tetrisInterval) clearInterval(window.tetrisInterval);
    }

    // --- TETRIS SEDERHANA ---
    let tetrisKeyHandler = null;

    function initTetris() {
        const canvas = document.getElementById('tetrisCanvas');
        const ctx = canvas.getContext('2d');
        const width = 10, height = 20, block = 24;
        let board = Array.from({length: height}, () => Array(width).fill(0));
        let shapes = [
            [[1,1,1,1]], // I
            [[1,1],[1,1]], // O
            [[0,1,0],[1,1,1]], // T
            [[1,1,0],[0,1,1]], // S
            [[0,1,1],[1,1,0]], // Z
            [[1,0,0],[1,1,1]], // J
            [[0,0,1],[1,1,1]]  // L
        ];
        let colors = ['#0f0','#ff0','#f0f','#0ff','#f00','#00f','#fa0'];
        let current = null, curX = 0, curY = 0, curShape = 0, curColor = 0;
        let gameOver = false;

        function drawBlock(x, y, color) {
            ctx.fillStyle = color;
            ctx.fillRect(x*block, y*block, block-2, block-2);
        }

        function drawBoard() {
            ctx.clearRect(0,0,canvas.width,canvas.height);

            // Gambar border area permainan (semua sisi benar-benar terlihat)
            ctx.save();
            ctx.strokeStyle = "#fff";
            ctx.lineWidth = 3;
            // Kiri
            ctx.beginPath();
            ctx.moveTo(1.5, 0);
            ctx.lineTo(1.5, height * block);
            ctx.stroke();
            // Atas
            ctx.beginPath();
            ctx.moveTo(0, 1.5);
            ctx.lineTo(width * block, 1.5);
            ctx.stroke();
            // Kanan
            ctx.beginPath();
            ctx.moveTo(width * block - 1.5, 0);
            ctx.lineTo(width * block - 1.5, height * block);
            ctx.stroke();
            // Bawah
            ctx.beginPath();
            ctx.moveTo(0, height * block - 1.5);
            ctx.lineTo(width * block, height * block - 1.5);
            ctx.stroke();
            ctx.restore();

            // Gambar grid kotak
            ctx.save();
            ctx.strokeStyle = "#444";
            ctx.lineWidth = 1;
            for(let x=1; x<width; x++) {
                ctx.beginPath();
                ctx.moveTo(x*block, 0);
                ctx.lineTo(x*block, height*block);
                ctx.stroke();
            }
            for(let y=1; y<height; y++) {
                ctx.beginPath();
                ctx.moveTo(0, y*block);
                ctx.lineTo(width*block, y*block);
                ctx.stroke();
            }
            ctx.restore();

            for(let y=0; y<height; y++)
                for(let x=0; x<width; x++)
                    if(board[y][x]) drawBlock(x, y, board[y][x]);
            if(current) {
                for(let y=0; y<current.length; y++)
                    for(let x=0; x<current[y].length; x++)
                        if(current[y][x])
                            drawBlock(curX + x, curY + y, colors[curColor]);
            }
        }

        function newPiece() {
            curShape = Math.floor(Math.random()*shapes.length);
            current = shapes[curShape].map(row=>row.slice());
            curColor = curShape;
            curX = Math.floor(width/2) - Math.floor(current[0].length/2);
            curY = 0;
            if(collide(curX, curY, current)) {
                gameOver = true;
                document.getElementById('tetrisMsg').textContent = "Semangat! Coba lagi ya ğŸ˜Š";
                clearInterval(window.tetrisInterval);
            }
        }

        function collide(nx, ny, shape) {
            for(let y=0; y<shape.length; y++)
                for(let x=0; x<shape[y].length; x++)
                    if(shape[y][x]) {
                        let px = nx + x, py = ny + y;
                        if(px<0 || px>=width || py>=height) return true;
                        if(py>=0 && board[py][px]) return true;
                    }
            return false;
        }

        function merge() {
            for(let y=0; y<current.length; y++)
                for(let x=0; x<current[y].length; x++)
                    if(current[y][x]) board[curY+y][curX+x] = colors[curColor];
        }

        function clearLines() {
            for(let y=height-1; y>=0; y--) {
                if(board[y].every(cell=>cell)) {
                    board.splice(y,1);
                    board.unshift(Array(width).fill(0));
                    y++;
                }
            }
        }

        function drop() {
            if(gameOver) return;
            if(!collide(curX, curY+1, current)) {
                curY++;
            } else {
                merge();
                clearLines();
                newPiece();
            }
            drawBoard();
        }

        function move(dx) {
            if(gameOver) return;
            if(!collide(curX+dx, curY, current)) {
                curX += dx;
                drawBoard();
            }
        }

        function rotate() {
            if(gameOver) return;
            let rotated = current[0].map((_,i)=>current.map(row=>row[i])).reverse();
            if(!collide(curX, curY, rotated)) {
                current = rotated;
                drawBoard();
            }
        }

        tetrisKeyHandler = function(e) {
            if(gameOver) return;
            if(e.key === "ArrowLeft") move(-1);
            else if(e.key === "ArrowRight") move(1);
            else if(e.key === "ArrowDown") drop();
            else if(e.key === "ArrowUp") rotate();
        };
        window.addEventListener('keydown', tetrisKeyHandler);

        // Kontrol sentuh/tombol untuk mobile
        document.getElementById('btn-left')?.addEventListener('click', () => move(-1));
        document.getElementById('btn-right')?.addEventListener('click', () => move(1));
        document.getElementById('btn-down')?.addEventListener('click', drop);
        document.getElementById('btn-rotate')?.addEventListener('click', rotate);

        // Fokus canvas untuk desktop
        setTimeout(() => { canvas.focus(); }, 100);
        canvas.onclick = () => canvas.focus();

        newPiece();
        drawBoard();
        window.tetrisInterval = setInterval(drop, 500);
    }
    </script>
</body>
</html>